import{r as j,k as $,m as g,j as s,d as y,c as b,A as N,D as w,E as D,M as x,I as E,L as O}from"./index-CyotTLIc.js";const P=j.forwardRef(({bsPrefix:r,className:c,striped:d,bordered:p,borderless:u,hover:o,size:l,variant:i,responsive:a,...m},f)=>{const e=$(r,"table"),n=g(c,e,i&&`${e}-${i}`,l&&`${e}-${l}`,d&&`${e}-${typeof d=="string"?`striped-${d}`:"striped"}`,p&&`${e}-bordered`,u&&`${e}-borderless`,o&&`${e}-hover`),h=s.jsx("table",{...m,className:n,ref:f});if(a){let t=`${e}-responsive`;return typeof a=="string"&&(t=`${t}-${a}`),s.jsx("div",{className:t,children:h})}return h}),{product:S,productImg:v,modal:I}=E,B=()=>{const r=y(),{orders:c,loading:d,error:p}=b(e=>e.orders),[u,o]=j.useState(!1),[l,i]=j.useState([]),a=()=>{o(!1),i([])},m=e=>{const n=c.find(t=>t.id===e),h=(n==null?void 0:n.items)??[];i(t=>[...t,...h]),o(!0)},f=c.map(e=>s.jsxs("tr",{children:[s.jsxs("td",{style:{padding:"5px"},children:["#",e.id]}),s.jsxs("td",{style:{padding:"5px"},children:[`${e.items.length} item(s) / `,s.jsx("span",{onClick:()=>m(e.id),style:{textDecoration:"underline",cursor:"pointer"},children:"Order Details"})]}),s.jsxs("td",{style:{padding:"5px"},children:[e.total," EGP"]})]},e.id));return j.useEffect(()=>{const e=r(N());return()=>{e.abort(),r(w()),r(D())}},[r]),s.jsxs(s.Fragment,{children:[s.jsxs(x,{show:u,onHide:a,children:[s.jsx(x.Header,{closeButton:!0,children:s.jsx(x.Title,{children:"Products Details"})}),s.jsx(x.Body,{className:I,children:l.map(e=>s.jsxs("div",{className:`${S} flex-row w-100 mb-3 gap-3 justify-content-start`,children:[s.jsx("div",{className:v,children:s.jsx("img",{src:e.img,alt:e.title})}),s.jsxs("div",{children:[s.jsx("h2",{children:e.title}),s.jsxs("h3",{children:[e.price," EGP"]}),s.jsxs("h3",{children:["Quantity: ",e.quantity]})]})]},e.id))})]}),s.jsx("h2",{className:"mb-3",children:"My Orders"}),s.jsx(O,{status:d,error:p,type:"table",children:s.jsxs(P,{striped:!0,bordered:!0,hover:!0,children:[s.jsxs("thead",{children:[s.jsx("th",{children:"Order Number"}),s.jsx("th",{children:"Items"}),s.jsx("th",{children:"Total Price"})]}),s.jsx("tbody",{children:f})]})})]})};export{B as default};
